<?xml version="1.0" encoding="UTF-8"?>

<configuration scan="true" scanPeriod="30 seconds">

  <property name="log.pattern" value="%d{yyyy-MM-dd HH:mm:ss} %-7([%level]) %logger [%X{tenant}] - %message \\(%thread\\)%n" />

  <include resource="logging-common.xml"/>

  <appender name="dailyFile" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <file>${log.file}</file>
    <encoder>
      <pattern>${log.pattern}</pattern>
    </encoder>
    <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
      <maxHistory>30</maxHistory>
      <FileNamePattern>${log.file}.%i</FileNamePattern>
    </rollingPolicy>
  </appender>

  <logger name="com.coremedia" additivity="false" level="info">
    <appender-ref ref="dailyFile"/>
  </logger>

  <root level="warn">
    <appender-ref ref="dailyFile"/>
  </root>

</configuration>