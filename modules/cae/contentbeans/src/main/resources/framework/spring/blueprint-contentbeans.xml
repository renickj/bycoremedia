<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd">

  <!--
  Generated content bean mappings. These are spring prototype bean definitions with a special
  naming scheme. These are called by the bean factory in .../framework/contentbeanfactory.xml.
  -->
  <import resource="classpath:/com/coremedia/cae/uapi-services.xml"/>
  <import resource="classpath:/com/coremedia/cap/multisite/multisite-services.xml"/>
  <import resource="classpath:/framework/spring/search/solr-search.xml"/>
  <import resource="classpath:/com/coremedia/blueprint/base/tree/bpbase-treerelation-services.xml"/>
  <import resource="classpath:/com/coremedia/blueprint/base/settings/impl/bpbase-settings-services.xml"/>
  <import resource="classpath:/com/coremedia/blueprint/base/links/bpbase-links-services.xml"/>
  <import resource="classpath:/com/coremedia/blueprint/segments/blueprint-segments.xml"/>
  <import resource="classpath:/com/coremedia/cap/content/wrapper/cap-unified-api-services.xml" />

  <import resource="mediatransform.xml"/>
  <import resource="blueprint-contentbeans-settings.xml"/>
  <import resource="blueprint-services.xml"/>

  <bean id="aspectsProvider" class="com.coremedia.cae.aspect.provider.CompoundAspectsProvider">
    <property name="aspectsProviders" ref="aspectsProviders"/>
  </bean>

  <bean id="aspectsProviders" class="org.springframework.beans.factory.config.ListFactoryBean">
    <property name="sourceList">
      <list>
      </list>
    </property>
  </bean>

  <bean name="abstractContentBean-blueprint-doctypes" scope="prototype" abstract="true">
    <property name="aspectsProviders" ref="aspectsProvider"/>
  </bean>

  <bean name="abstractLocalized-blueprint-doctypes" scope="prototype" abstract="true"
        parent="abstractContentBean-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMLocalizedBase">
    <property name="sitesService" ref="sitesService"/>
  </bean>

  <bean name="abstractLinkable-blueprint-doctypes" scope="prototype" abstract="true"
        parent="abstractLocalized-blueprint-doctypes" class="com.coremedia.blueprint.cae.contentbeans.CMLinkableBase">
    <property name="contextStrategy" ref="contextStrategy"/>
    <property name="validationService" ref="validationService"/>
    <property name="settingsService" ref="settingsService"/>
    <property name="urlPathFormattingHelper" ref="urlPathFormattingHelper"/>
  </bean>

  <bean name="abstractHasContexts-blueprint-doctypes" scope="prototype" abstract="true"
        parent="abstractLinkable-blueprint-doctypes" class="com.coremedia.blueprint.cae.contentbeans.CMHasContextsImpl">
    <property name="currentContextService" ref="currentContextService"/>
    <property name="dataViewFactory" ref="dataViewFactory"/>
  </bean>

  <bean name="abstractTeasable-blueprint-doctypes" scope="prototype" abstract="true"
        parent="abstractHasContexts-blueprint-doctypes" class="com.coremedia.blueprint.cae.contentbeans.CMTeasableBase">
    <property name="resultFactory" ref="resultFactory"/>
  </bean>

  <bean name="abstractChannel-blueprint-doctypes" scope="prototype" abstract="true"
        parent="abstractTeasable-blueprint-doctypes" class="com.coremedia.blueprint.cae.contentbeans.CMChannelImpl">
    <property name="pageGridService" ref="pageGridService"/>
    <property name="treeRelation" ref="cmNavigationTreeRelation"/>
  </bean>

  <bean name="abstractMediaBean-blueprint-doctypes" parent="abstractTeasable-blueprint-doctypes"
        scope="prototype" abstract="true">
    <property name="mediaTransformer" ref="mediaTransformer"/>
  </bean>

  <bean name="abstractTaxonomyBean-blueprint-doctypes" parent="abstractTeasable-blueprint-doctypes"
        scope="prototype" abstract="true">
    <property name="treeRelation" ref="taxonomyTreeRelation"/>
  </bean>

  <bean name="contentBeanFactory:CMSite" parent="abstractLocalized-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMSiteImpl" scope="prototype">
    <property name="validationService" ref="validationService"/>
  </bean>

  <bean name="contentBeanFactory:CMTeaser" parent="abstractTeasable-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMTeaserImpl" scope="prototype">
  </bean>
  <bean name="contentBeanFactory:CMImage" parent="abstractLocalized-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMImageImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMSymbol" parent="abstractLocalized-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMSymbolImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMCSS" parent="abstractLocalized-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMCSSImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMJavaScript" parent="abstractLocalized-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMJavaScriptImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMViewtype" parent="abstractLocalized-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMViewtypeImpl" scope="prototype"/>

  <bean name="contentBeanFactory:CMInteractive" parent="abstractMediaBean-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMInteractiveImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMVideo" parent="abstractMediaBean-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMVideoImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMAudio" parent="abstractMediaBean-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMAudioImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMPicture" parent="abstractMediaBean-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMPictureImpl" scope="prototype">
    <property name="transformationMapBuilder" ref="transformationMapBuilder"/>
  </bean>

  <bean name="contentBeanFactory:CMImageMap" parent="abstractTeasable-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMImageMapImpl" scope="prototype">
    <property name="imageMapAreaFilters" ref="imageMapAreaFilters" />
  </bean>

  <bean name="contentBeanFactory:CMCollection" parent="abstractTeasable-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMCollectionImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMLocTaxonomy" parent="abstractTaxonomyBean-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMLocTaxonomyImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMTaxonomy" parent="abstractTaxonomyBean-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMTaxonomyImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMSettings" parent="abstractLocalized-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMSettingsImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMFolderProperties" parent="abstractLocalized-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMFolderPropertiesImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMGallery" parent="abstractTeasable-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMGalleryImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMArticle" parent="abstractTeasable-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMArticleImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMExternalLink" parent="abstractTeasable-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMExternalLinkImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMDownload" parent="abstractTeasable-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMDownloadImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMHTML" parent="abstractTeasable-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMHTMLImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMChannel" parent="abstractChannel-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMChannelImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMQueryList" parent="abstractTeasable-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMQueryListImpl" scope="prototype">
    <property name="treeRelation" ref="navigationTreeRelation"/>
  </bean>
  <bean name="contentBeanFactory:CMAction" parent="abstractTeasable-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMActionImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMPlaceholder" parent="abstractTeasable-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMPlaceholderImpl" scope="prototype"/>
  <bean name="contentBeanFactory:CMSitemap" parent="abstractTeasable-blueprint-doctypes"
        class="com.coremedia.blueprint.cae.contentbeans.CMSitemapImpl" scope="prototype"/>

  <bean id="cmNavigationTreeRelation"
        class="com.coremedia.blueprint.cae.navigation.CMNavigationLinkListContentTreeRelation">
    <property name="siteContentTypeName" value="CMSite"/>
    <property name="siteRootPropertyName" value="root"/>
    <property name="childrenPropertyName" value="children"/>
    <property name="contentTypeName" value="CMNavigation"/>
    <property name="contentBeanFactory" ref="contentBeanFactory"/>
  </bean>
</beans>
