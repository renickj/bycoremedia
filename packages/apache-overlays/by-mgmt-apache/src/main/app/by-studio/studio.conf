<VirtualHost *:@STUDIO_APACHE_HTTP_PORT@>
  ServerName @STUDIO_HELIOS_SEGMENT@.@BY_STUDIO_TLD@
  ServerAlias @STUDIO_BY_SEGMENT@.@BY_STUDIO_TLD@
  ServerAlias @STUDIO_CORPORATE_SEGMENT@.@BY_STUDIO_TLD@
  ### Temporary Bugfix for STUDIO-757 ###
  #AllowEncodedSlashes NoDecode
  ######

  <Proxy balancer://studio-cluster>
    BalancerMember ajp://@STUDIO_HOST@:@STUDIO_AJP_PORT@ route=@STUDIO_JVM_ROUTE@ loadfactor=1 ttl=300
  </Proxy>

  # Needed for local development, where the studio and the cae run on different tomcats. For
  # retest or production systems this balancer should be the same as the studio cluster
  <Proxy balancer://preview-cluster>
      BalancerMember ajp://@STUDIO_HOST@:@PREVIEW_AJP_PORT@ route=@PREVIEW_JVM_ROUTE@ loadfactor=1 ttl=300
  </Proxy>

  Include conf.d/studio/*.inc

</VirtualHost>

<VirtualHost *:@STUDIO_APACHE_HTTPS_PORT@>
  ServerName @STUDIO_HELIOS_SEGMENT@.@BY_STUDIO_TLD@
  ServerAlias @STUDIO_BY_SEGMENT@.@BY_STUDIO_TLD@
  ServerAlias @STUDIO_CORPORATE_SEGMENT@.@BY_STUDIO_TLD@

  ### Temporary Bugfix for STUDIO-757 ###
  #AllowEncodedSlashes NoDecode
  ######

  KeepAlive On

  ### Balancer ###########################

  <Proxy balancer://studio-cluster>
    BalancerMember ajp://@STUDIO_HOST@:@STUDIO_AJP_PORT@ route=@STUDIO_JVM_ROUTE@ loadfactor=1 ttl=300
  </Proxy>
  #
  # Needed for local development, where the studio and the cae run on different tomcats. For
  # retest or production systems this balancer should be the same as the studio cluster
  #
  <Proxy balancer://preview-cluster>
      BalancerMember ajp://@STUDIO_HOST@:@PREVIEW_AJP_PORT@ route=@PREVIEW_JVM_ROUTE@ loadfactor=1 ttl=300
  </Proxy>

  Include conf.d/global/ssl.inc
  Include conf.d/studio/*.inc

</VirtualHost>
